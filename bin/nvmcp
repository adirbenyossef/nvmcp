#!/usr/bin/env node

/**
 * NVMCP CLI Binary
 * Thin wrapper around the main CLI module with global error handling
 */

// Import error handling before anything else
const { ErrorHandler } = require('../lib/utils/errors');

// Handle unhandled promise rejections
process.on('unhandledRejection', ErrorHandler.createRejectionHandler('CLI binary'));

// Handle uncaught exceptions
process.on('uncaughtException', ErrorHandler.createExceptionHandler('CLI binary'));

// Load and execute main CLI
const { main } = require('../lib/main.js');

// Only run main if this is the main module
if (require.main === module) {
  main().catch(error => {
    console.error('CLI Error:', error.message);
    process.exit(1);
  });
}
